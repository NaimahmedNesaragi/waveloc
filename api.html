

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>WaveLoc API &mdash; waveLoc 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="waveLoc 0.1.0 documentation" href="index.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">waveLoc 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="waveloc-api">
<h1>WaveLoc API<a class="headerlink" href="#waveloc-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="waveform-manipulation">
<h2>Waveform Manipulation<a class="headerlink" href="#waveform-manipulation" title="Permalink to this headline">¶</a></h2>
<p>The main module for waveform manipulation is <a class="reference internal" href="#module-OP_waveforms" title="OP_waveforms"><tt class="xref py py-mod docutils literal"><span class="pre">OP_waveforms</span></tt></a>.  This module
is a second-generation waveform processing module, adapted to use the
functionality provided by <tt class="docutils literal"><span class="pre">obspy.stream</span></tt> objects (see the <a class="reference external" href="http://www.obspy.org">obspy website</a> for more information and installation instructions).</p>
<div class="section" id="module-OP_waveforms">
<span id="op-waveforms"></span><h3>OP_waveforms<a class="headerlink" href="#module-OP_waveforms" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-OP_waveforms" title="OP_waveforms"><tt class="xref py py-mod docutils literal"><span class="pre">OP_waveforms</span></tt></a> module provides the <a class="reference internal" href="#OP_waveforms.Waveform" title="OP_waveforms.Waveform"><tt class="xref py py-class docutils literal"><span class="pre">Waveform</span></tt></a> class through
which most time-series manipulation is carried out.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires <strong>scikits.samplerate</strong> for full functionality (on linux systems install with
<tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">scikits.samplerate</span></tt> after having installed the
<tt class="docutils literal"><span class="pre">libsamplerate0</span></tt> libraries using e.g. <tt class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libsamplerate0</span></tt>).</p>
</div>
<dl class="class">
<dt id="OP_waveforms.Waveform">
<em class="property">class </em><tt class="descclassname">OP_waveforms.</tt><tt class="descname">Waveform</tt><a class="reference internal" href="_modules/OP_waveforms.html#Waveform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class for obspy streams. Adds many convenience functions, and
functionality specific to WaveLoc processing.</p>
<p><strong>Attributes</strong></p>
<dl class="attribute">
<dt id="OP_waveforms.Waveform.stream">
<tt class="descname">stream</tt><a class="headerlink" href="#OP_waveforms.Waveform.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>An <tt class="xref py py-class docutils literal"><span class="pre">obspy.core.Stream</span></tt> object.  Can be accessed directly.  
Initialises to <tt class="docutils literal"><span class="pre">None</span></tt>.
If you set this attribute directly, you should also set <a class="reference internal" href="#OP_waveforms.Waveform.trace" title="OP_waveforms.Waveform.trace"><tt class="xref py py-attr docutils literal"><span class="pre">trace</span></tt></a>
to <a class="reference internal" href="#OP_waveforms.Waveform.stream" title="OP_waveforms.Waveform.stream"><tt class="xref py py-attr docutils literal"><span class="pre">stream</span></tt></a>.traces[0]</p>
</dd></dl>

<dl class="attribute">
<dt id="OP_waveforms.Waveform.trace">
<tt class="descname">trace</tt><a class="headerlink" href="#OP_waveforms.Waveform.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>An obspy.Trace object.  Can be accessed directly.  
Initialises to <tt class="docutils literal"><span class="pre">None</span></tt>.
If you set this directly, make sure it points to <a class="reference internal" href="#OP_waveforms.Waveform.stream" title="OP_waveforms.Waveform.stream"><tt class="xref py py-attr docutils literal"><span class="pre">stream</span></tt></a>.traces[0]</p>
</dd></dl>

<dl class="attribute">
<dt id="OP_waveforms.Waveform.proc">
<tt class="descname">proc</tt><a class="headerlink" href="#OP_waveforms.Waveform.proc" title="Permalink to this definition">¶</a></dt>
<dd><p>Text string indicating processing type.  Can be accessed directly.
Initialises to <tt class="docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<p><strong>Methods</strong></p>
<dl class="method">
<dt id="OP_waveforms.Waveform.bp_filter">
<tt class="descname">bp_filter</tt><big>(</big><em>freqmin</em>, <em>freqmax</em>, <em>zerophase=False</em>, <em>rmean=False</em>, <em>taper=False</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.bp_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.bp_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a band-pass filter to the data.  If data are segmented into multiple
traces, apply the same filter to all traces.
Calls <tt class="xref py py-func docutils literal"><span class="pre">obspy.signal.filter()</span></tt> to do the filtering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>freqmin</strong> &#8211; Low frequency corner</li>
<li><strong>freqmax</strong> &#8211; High frequency corner</li>
<li><strong>zerophase</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> applies a non-causal bandpass filter.  If
<tt class="docutils literal"><span class="pre">False</span></tt> applies a causal bandpass filter.</li>
<li><strong>rmean</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> remove mean before filtering.</li>
<li><strong>taper</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> apply taper before filtering.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.cleanup_traces">
<tt class="descname">cleanup_traces</tt><big>(</big><em>short_data_length=0</em>, <em>rmean=False</em>, <em>taper=False</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.cleanup_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.cleanup_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the stream by removing isolated segments less than <tt class="docutils literal"><span class="pre">short_data_length</span></tt> seconds in length.
Perfectly overlapping segments are merged before removal of short isolated segments begins.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>short_data_length</strong> &#8211; Data segments shorter than this number of seconds will be discarded.</li>
<li><strong>rmean</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> removes the mean from the data after discarding
short segments. If data are segmented, the mean will be removed from all
segments individually.</li>
<li><strong>taper</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> removes the mean from the data after discarding
short segments. If data are segmented, a taper will be applied to all
segments individually.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.decimate">
<tt class="descname">decimate</tt><big>(</big><em>factor=1</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.decimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.decimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <tt class="docutils literal"><span class="pre">obspy</span></tt> decimation, after applying an anti-aliasing, non-causal
filter of 0.4*(new sample rate).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>factor</strong> (<em>integer</em>) &#8211; Decimation factor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.process_kurtosis">
<tt class="descname">process_kurtosis</tt><big>(</big><em>win</em>, <em>recursive=False</em>, <em>pre_rmean=False</em>, <em>pre_taper=False</em>, <em>post_taper=True</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.process_kurtosis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.process_kurtosis" title="Permalink to this definition">¶</a></dt>
<dd><p>Processing waveform using kurtosis (from statlib package).</p>
<p>Calls filters.kurto(), and overwrites the waveform.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>win</strong> &#8211; length of the window (in seconds) on which to calculate the
kurtosis</li>
<li><strong>pre_rmean</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> removes mean of signal before processing.</li>
<li><strong>pre_taper</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> applies taper to signal before processing.</li>
<li><strong>post_taper</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> applies taper to signal after processing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.read_from_SDS">
<tt class="descname">read_from_SDS</tt><big>(</big><em>sds_root</em>, <em>net_name</em>, <em>sta_name</em>, <em>comp_name</em>, <em>starttime=None</em>, <em>endtime=None</em>, <em>rmean=False</em>, <em>taper=False</em>, <em>pad_value=None</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.read_from_SDS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.read_from_SDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Read waveform data from an SDS structured archive.  Simple overlaps and
adjacent traces are merged if possile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sds_root</strong> &#8211; root of the SDS archive</li>
<li><strong>net_name</strong> &#8211; network name</li>
<li><strong>sta_name</strong> &#8211; station name</li>
<li><strong>comp_name</strong> &#8211; component name</li>
<li><strong>starttime</strong> (<tt class="docutils literal"><span class="pre">obspy.core.utcdatetime.UTCDateTime</span></tt> object) &#8211; Start time of data to be read.</li>
<li><strong>endtime</strong> (<tt class="docutils literal"><span class="pre">obspy.core.utcdatetime.UTCDateTime</span></tt> object) &#8211; End time of data to be read.</li>
<li><strong>rmean</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> removes the mean from the data upon reading. If data are segmented, the mean will be removed from all segments individually.</li>
<li><strong>taper</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> applies a cosine taper to the data upon reading.  If data are segmented, tapers are applied to all segments individually.</li>
<li><strong>pad_value</strong> (<em>float</em>) &#8211; If this parameter is set, points between <tt class="docutils literal"><span class="pre">starttime</span></tt> and the first point in the file, and points between the last point in the file and <tt class="docutils literal"><span class="pre">endtime</span></tt>, will be set to <tt class="docutils literal"><span class="pre">pad_value</span></tt>.  You may want to also use the <tt class="docutils literal"><span class="pre">rmean</span></tt> and <tt class="docutils literal"><span class="pre">taper</span></tt> parameters, depending on the nature of the data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UserWarning:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">If there are no data between <tt class="docutils literal"><span class="pre">starttime</span></tt> and <tt class="docutils literal"><span class="pre">endtime</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.read_from_file">
<tt class="descname">read_from_file</tt><big>(</big><em>filename</em>, <em>format=None</em>, <em>starttime=None</em>, <em>endtime=None</em>, <em>rmean=False</em>, <em>taper=False</em>, <em>pad_value=None</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.read_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.read_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read waveform data from file.  Multiple traces are merged if they overlap exactly or are adjacent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; Waveform filename</li>
<li><strong>format</strong> (<em>string</em>) &#8211; <tt class="docutils literal"><span class="pre">obspy</span></tt> format type (e.g. &#8216;SAC&#8217;, &#8216;mseed&#8217;...)</li>
<li><strong>starttime</strong> (<tt class="docutils literal"><span class="pre">obspy.core.utcdatetime.UTCDateTime</span></tt> object) &#8211; Start time of data to be read.</li>
<li><strong>endtime</strong> (<tt class="docutils literal"><span class="pre">obspy.core.utcdatetime.UTCDateTime</span></tt> object) &#8211; End time of data to be read.</li>
<li><strong>rmean</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> removes the mean from the data upon reading. If data are segmented, the mean will be removed from all segments individually.</li>
<li><strong>taper</strong> (<em>boolean</em>) &#8211; If <tt class="docutils literal"><span class="pre">True</span></tt> applies a cosine taper to the data upon reading.  If data are segmented, tapers are applied to all segments individually.</li>
<li><strong>pad_value</strong> (<em>float</em>) &#8211; If this parameter is set, points between <tt class="docutils literal"><span class="pre">starttime</span></tt> and the first point in the file, and points between the last point in the file and <tt class="docutils literal"><span class="pre">endtime</span></tt>, will be set to <tt class="docutils literal"><span class="pre">pad_value</span></tt>.  You may want to also use the <tt class="docutils literal"><span class="pre">rmean</span></tt> and <tt class="docutils literal"><span class="pre">taper</span></tt> parameters, depending on the nature of the data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UserWarning:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">If there are no data between <tt class="docutils literal"><span class="pre">starttime</span></tt> and <tt class="docutils literal"><span class="pre">endtime</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.resample">
<tt class="descname">resample</tt><big>(</big><em>new_samplerate</em>, <em>resample_type='sinc_best'</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies audio-quality resampling in place.  Requires installation of <tt class="docutils literal"><span class="pre">scikits.samplerate</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_samplerate</strong> &#8211; New sample rate.</li>
<li><strong>resample_type</strong> &#8211; Can be <tt class="docutils literal"><span class="pre">'sinc_best'</span></tt>, ...</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.rmean">
<tt class="descname">rmean</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.rmean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.rmean" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the mean of the stream (iterates over all traces).</p>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.taper">
<tt class="descname">taper</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.taper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.taper" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a cosine taper the stream (iterates over all traces).</p>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.write_to_file">
<tt class="descname">write_to_file</tt><big>(</big><em>filename</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.write_to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.write_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write waveform to file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; Output filename.</li>
<li><strong>format</strong> &#8211; <tt class="docutils literal"><span class="pre">obspy</span></tt> format type (e.g. &#8216;SAC&#8217;, &#8216;mseed&#8217;...)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OP_waveforms.Waveform.write_to_file_filled">
<tt class="descname">write_to_file_filled</tt><big>(</big><em>filename</em>, <em>format=None</em>, <em>fill_value=0</em>, <em>rmean=False</em>, <em>taper=False</em><big>)</big><a class="reference internal" href="_modules/OP_waveforms.html#Waveform.write_to_file_filled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#OP_waveforms.Waveform.write_to_file_filled" title="Permalink to this definition">¶</a></dt>
<dd><p>Write waveform to file, after merging and filling blanks with <tt class="docutils literal"><span class="pre">fill_value</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; Output filename.</li>
<li><strong>format</strong> &#8211; <tt class="docutils literal"><span class="pre">obspy</span></tt> format type (e.g. &#8216;SAC&#8217;, &#8216;mseed&#8217;...)</li>
<li><strong>fill_value</strong> &#8211; Value used to fill in gaps</li>
<li><strong>rmean</strong> &#8211; Remove the mean before merging.</li>
<li><strong>taper</strong> &#8211; Apply taper before merging.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-obspyaux">
<span id="obspyaux"></span><h3>obspyaux<a class="headerlink" href="#module-obspyaux" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="obspyaux.time2nztimesac">
<tt class="descclassname">obspyaux.</tt><tt class="descname">time2nztimesac</tt><big>(</big><em>stringa</em><big>)</big><a class="reference internal" href="_modules/obspyaux.html#time2nztimesac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obspyaux.time2nztimesac" title="Permalink to this definition">¶</a></dt>
<dd><p>this function converts the onbspy strings stats.starttime and stats.endtime 
(eg, &#8216;2009-04-06T01:29:59.840000Z&#8217;) into
nzyear, month, day, hour, minute, seconds and milliseconds
It returns the latter values as integers in a tuple</p>
</dd></dl>

</div>
<div class="section" id="module-filters">
<span id="filters"></span><h3>filters<a class="headerlink" href="#module-filters" title="Permalink to this headline">¶</a></h3>
<p>Functions for timeseries filtering.</p>
<p>Created by Alessia Maggi and Alberto Michelini.</p>
<dl class="function">
<dt id="filters.allens_stalta">
<tt class="descclassname">filters.</tt><tt class="descname">allens_stalta</tt><big>(</big><em>x</em>, <em>dt</em>, <em>STAwin</em>, <em>LTAwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#allens_stalta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.allens_stalta" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the short to long time average ratio of a timeseries. 
using Allen (1978) caracteristic function (see report)
dt = sampling interval in seconds. 
STAwin = short time average window in seconds.
LTAwin = long time average in seconds.</p>
</dd></dl>

<dl class="function">
<dt id="filters.envelope">
<tt class="descclassname">filters.</tt><tt class="descname">envelope</tt><big>(</big><em>x</em>, <em>N</em><big>)</big><a class="reference internal" href="_modules/filters.html#envelope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.envelope" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the envelope of a signal using the Hilbert transform.</p>
<p>Uses scipy.signal.hilbert() to do the Hilbert transform.</p>
</dd></dl>

<dl class="function">
<dt id="filters.filtfilt">
<tt class="descclassname">filters.</tt><tt class="descname">filtfilt</tt><big>(</big><em>b</em>, <em>a</em>, <em>x</em><big>)</big><a class="reference internal" href="_modules/filters.html#filtfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.filtfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>What does this function do?  Alberto??</p>
</dd></dl>

<dl class="function">
<dt id="filters.gradient">
<tt class="descclassname">filters.</tt><tt class="descname">gradient</tt><big>(</big><em>x</em>, <em>dt</em>, <em>LENwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the gradient of a timeseries.</p>
<p>dt = sampling interval in seconds. 
LENwin =  time window (in secs) over which the gradient is determined</p>
</dd></dl>

<dl class="function">
<dt id="filters.kurto">
<tt class="descclassname">filters.</tt><tt class="descname">kurto</tt><big>(</big><em>x</em>, <em>dt</em>, <em>LENwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#kurto"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.kurto" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the kurtosis of a timeseries.</p>
<p>dt = sampling interval in seconds. 
LENwin =  time window (in secs) over which the kurtosis is determined</p>
</dd></dl>

<dl class="function">
<dt id="filters.kurto_improved">
<tt class="descclassname">filters.</tt><tt class="descname">kurto_improved</tt><big>(</big><em>x</em>, <em>dt</em>, <em>LENwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#kurto_improved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.kurto_improved" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the kurtosis of a timeseries.</p>
<p>dt = sampling interval in seconds. 
LENwin =  time window (in secs) over which the skewness is determined</p>
<p>described by kuperkoch et al. 2010: calculate the kurtosis recursively
Results are not satisfying, but one may want to improve this... it might
save some time!</p>
</dd></dl>

<dl class="function">
<dt id="filters.lfilter_zi">
<tt class="descclassname">filters.</tt><tt class="descname">lfilter_zi</tt><big>(</big><em>b</em>, <em>a</em><big>)</big><a class="reference internal" href="_modules/filters.html#lfilter_zi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.lfilter_zi" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the zi state from the filter parameters. See [Gust96].</p>
<p>Based on:
[Gust96] Fredrik Gustafsson, Determining the initial states in forward-backward 
filtering, IEEE Transactions on Signal Processing, pp. 988&#8211;992, April 1996, 
Volume 44, Issue 4</p>
</dd></dl>

<dl class="function">
<dt id="filters.projection">
<tt class="descclassname">filters.</tt><tt class="descname">projection</tt><big>(</big><em>x</em>, <em>y</em>, <em>theta</em><big>)</big><a class="reference internal" href="_modules/filters.html#projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.projection" title="Permalink to this definition">¶</a></dt>
<dd><p>return an array</p>
</dd></dl>

<dl class="function">
<dt id="filters.skewness">
<tt class="descclassname">filters.</tt><tt class="descname">skewness</tt><big>(</big><em>x</em>, <em>dt</em>, <em>LENwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#skewness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.skewness" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the absolute value of the skewness of a timeseries.</p>
<p>dt = sampling interval in seconds. 
LENwin =  time window (in secs) over which the skewness is determined</p>
</dd></dl>

<dl class="function">
<dt id="filters.smooth">
<tt class="descclassname">filters.</tt><tt class="descname">smooth</tt><big>(</big><em>x</em>, <em>window_len=11</em>, <em>window='hanning'</em><big>)</big><a class="reference internal" href="_modules/filters.html#smooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>smooth the data using a window with requested size.</p>
<p>This method is based on the convolution of a scaled window with the signal.
The signal is prepared by introducing reflected copies of the signal 
(with the window size) in both ends so that transient parts are minimized
in the begining and end part of the output signal.</p>
<dl class="docutils">
<dt>input:</dt>
<dd><p class="first">x: the input signal 
window_len: the dimension of the smoothing window; should be an odd integer
window: the type of window from &#8216;flat&#8217;, &#8216;hanning&#8217;, &#8216;hamming&#8217;, &#8216;bartlett&#8217;, &#8216;blackman&#8217;</p>
<blockquote class="last">
<div>flat window will produce a moving average smoothing.</div></blockquote>
</dd>
<dt>output:</dt>
<dd>the smoothed signal</dd>
</dl>
<p>example:</p>
<p>t=linspace(-2,2,0.1)
x=sin(t)+randn(len(t))*0.1
y=smooth(x)</p>
<p>see also:</p>
<p>numpy.hanning, numpy.hamming, numpy.bartlett, numpy.blackman, numpy.convolve
scipy.signal.lfilter</p>
<p>TODO: the window parameter could be the window itself if an array instead of a string
NOTE: length(output) != length(input), to correct this: return y[(window_len/2-1):-(window_len/2)] instead of just y.</p>
</dd></dl>

<dl class="function">
<dt id="filters.stalta">
<tt class="descclassname">filters.</tt><tt class="descname">stalta</tt><big>(</big><em>x</em>, <em>dt</em>, <em>STAwin</em>, <em>LTAwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#stalta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.stalta" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the short to long time average ratio of a timeseries.</p>
<p>dt = sampling interval in seconds. 
STAwin = short time average window in seconds.
LTAwin = long time average in seconds.</p>
</dd></dl>

<dl class="function">
<dt id="filters.variance">
<tt class="descclassname">filters.</tt><tt class="descname">variance</tt><big>(</big><em>x</em>, <em>dt</em>, <em>LENwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#variance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the variance of a timeseries.</p>
<p>dt = sampling interval in seconds. 
LENwin =  time window (in secs) over which the variance is determined</p>
</dd></dl>

<dl class="function">
<dt id="filters.variance_under_rotation">
<tt class="descclassname">filters.</tt><tt class="descname">variance_under_rotation</tt><big>(</big><em>x</em>, <em>y</em>, <em>dt</em>, <em>LENwin</em><big>)</big><a class="reference internal" href="_modules/filters.html#variance_under_rotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.variance_under_rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the variance under rotation of a timeseries.</p>
<p>dt = sampling interval in seconds. 
LENwin =  time window (in secs) over which the variance under rotation is determined</p>
</dd></dl>

<dl class="function">
<dt id="filters.varrot">
<tt class="descclassname">filters.</tt><tt class="descname">varrot</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="reference internal" href="_modules/filters.html#varrot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#filters.varrot" title="Permalink to this definition">¶</a></dt>
<dd><p>for each angle, calculates the mean of the projection over the whole array
then calculates the mean over each angle.</p>
<p>Then, for each angle, calculates the variance, and then the mean over each angle</p>
</dd></dl>

</div>
</div>
<div class="section" id="grid-manipulation">
<h2>Grid Manipulation<a class="headerlink" href="#grid-manipulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="am-geo">
<h3>AM_geo<a class="headerlink" href="#am-geo" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="grids-paths">
<h3>grids_paths<a class="headerlink" href="#grids-paths" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="non-lin-loc-io">
<h2>Non-Lin-Loc IO<a class="headerlink" href="#non-lin-loc-io" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="other">
<h2>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h2>
<div class="section" id="am-subs">
<h3>AM_subs<a class="headerlink" href="#am-subs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="waveloc-funcs">
<h3>waveloc_funcs<a class="headerlink" href="#waveloc-funcs" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">WaveLoc API</a><ul>
<li><a class="reference internal" href="#waveform-manipulation">Waveform Manipulation</a><ul>
<li><a class="reference internal" href="#module-OP_waveforms">OP_waveforms</a></li>
<li><a class="reference internal" href="#module-obspyaux">obspyaux</a></li>
<li><a class="reference internal" href="#module-filters">filters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#grid-manipulation">Grid Manipulation</a><ul>
<li><a class="reference internal" href="#am-geo">AM_geo</a></li>
<li><a class="reference internal" href="#grids-paths">grids_paths</a></li>
</ul>
</li>
<li><a class="reference internal" href="#non-lin-loc-io">Non-Lin-Loc IO</a></li>
<li><a class="reference internal" href="#other">Other</a><ul>
<li><a class="reference internal" href="#am-subs">AM_subs</a></li>
<li><a class="reference internal" href="#waveloc-funcs">waveloc_funcs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Tutorial</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >previous</a> |</li>
        <li><a href="index.html">waveLoc 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Alessia Maggi.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>